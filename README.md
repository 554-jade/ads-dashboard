# Antigravity Ads Cloud ğŸš€ - å¹¿å‘Šäº‘

è¿™æ˜¯ä¸€ä¸ªåŸºäº Streamlit å’Œ Google Sheets çš„å¹¿å‘Šæ•°æ®åˆ†æä¸çœ‹æ¿ç³»ç»Ÿã€‚

## ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡ä¸å®‰è£…

åœ¨ä½¿ç”¨æœ¬é¡¹ç›®ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Python (å»ºè®® 3.9+)ã€‚

**1. åˆå§‹åŒ–ç¯å¢ƒ**
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºå’Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Mac/Linux)
source .venv/bin/activate

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
# .venv\Scripts\activate
```

**2. å®‰è£…ä¾èµ–**
æ¿€æ´»ç¯å¢ƒåï¼Œå®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰åº“ï¼š

```bash
pip install -r Ads_BI/requirements.txt
```

---

## ğŸš€ å¯åŠ¨é¡¹ç›®

åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç½‘é¡µæœåŠ¡ï¼š

```bash
streamlit run Ads_BI/app.py
```

å¯åŠ¨åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:8501`ã€‚

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹ (Troubleshooting)

### 1. ä¿®æ”¹æ–‡ä»¶å¤¹åç§°åæ— æ³•è¿è¡Œï¼Ÿ
å¦‚æœæ‚¨ä¿®æ”¹äº†é¡¹ç›®æ–‡ä»¶å¤¹çš„åç§°æˆ–ç§»åŠ¨äº†ä½ç½®ï¼Œ`.venv` è™šæ‹Ÿç¯å¢ƒä¼šå¤±æ•ˆã€‚
**è§£å†³æ–¹æ³•ï¼š**
1.  åˆ é™¤ç›®å½•ä¸‹çš„ `.venv` æ–‡ä»¶å¤¹ã€‚
2.  æŒ‰ç…§ä¸Šæ–¹çš„ **â€œç¯å¢ƒå‡†å¤‡ä¸å®‰è£…â€** æ­¥éª¤ï¼Œé‡æ–°åˆ›å»ºç¯å¢ƒå¹¶å®‰è£…ä¾èµ–ã€‚

### 2. æ•°æ®ä¸Šä¼ æŠ¥é”™ï¼Ÿ
*   **ç¼–ç é—®é¢˜**ï¼šç¨‹åºå·²è‡ªåŠ¨é€‚é… `UTF-8`, `UTF-16`, `GBK` ç­‰å¸¸è§ç¼–ç ã€‚å¦‚æœä»ç„¶æŠ¥é”™ï¼Œè¯·å°è¯•ç”¨ Excel æ‰“å¼€ CSV å¹¶å¦å­˜ä¸ºæ ‡å‡† CSV (é€—å·åˆ†éš”)ã€‚
*   **æ–‡ä»¶æ ¼å¼**ï¼šæ”¯æŒ Google Ads å¯¼å‡ºçš„æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶åä¸ç›´æ¥åŒ…å« IDï¼Œç¨‹åºä¼šå°è¯•ä»æ–‡ä»¶å†…å®¹è§£æï¼Œæˆ–æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨é‡å‘½åæ–‡ä»¶åä¸º `xxx-xxx-xxxx_æ—¥æœŸ.csv` çš„æ ¼å¼ã€‚
*   **Ghost Rows**ï¼šå¦‚æœåœ¨â€œä¼˜åŒ–å¸ˆæ˜ å°„â€ä¸­çœ‹åˆ°å¤§é‡æœªåŒ¹é…æ•°æ®ï¼Œé€šå¸¸æ˜¯å› ä¸º Google Sheet åŒ…å«ç©ºè¡Œï¼Œç¨‹åºç°å·²è‡ªåŠ¨è¿‡æ»¤ï¼Œè¯·å¿½ç•¥æˆ–åˆ·æ–°é¡µé¢ã€‚

### 3. Google Sheets è¿æ¥é”™è¯¯ (SSL Error)ï¼Ÿ
è¿™é€šå¸¸æ˜¯ç”±äºç½‘ç»œæ³¢åŠ¨å¯¼è‡´æ— æ³•è¿æ¥ Google APIã€‚
**è§£å†³æ–¹æ³•ï¼š**
*   æ£€æŸ¥æ‚¨çš„ VPN æˆ–ç½‘ç»œä»£ç†æ˜¯å¦å¼€å¯ã€‚
*   åœ¨ç½‘é¡µæŠ¥é”™ç•Œé¢ï¼Œç‚¹å‡»å‡ºç°çš„ **â€œğŸ”„ é‡è¯•è¿æ¥ (Retry)â€** æŒ‰é’®ã€‚
*   ç‚¹å‡»ä¾§è¾¹æ çš„ **â€œåˆ·æ–°æ•°æ®â€** æŒ‰é’®ã€‚

### 4. çº¢é»‘æ¦œæ²¡æœ‰é¢œè‰²ï¼Ÿ
å¦‚æœè¡¨æ ¼æ˜¾ç¤ºé»‘ç™½ï¼Œé€šå¸¸æ˜¯å› ä¸ºç¼ºå°‘ `matplotlib` åº“ã€‚è¯·ç¡®ä¿å·²æ‰§è¡Œ `pip install -r Ads_BI/requirements.txt`ï¼Œç„¶åé‡å¯ Streamlit æœåŠ¡ã€‚

---

## â˜ï¸ éƒ¨ç½²æŒ‡å— (Deployment)

> **âš ï¸ å…³äº GitHub Pages çš„è¯´æ˜**ï¼š
> æœ¬é¡¹ç›®æ˜¯åŸºäº Python çš„åŠ¨æ€ Streamlit åº”ç”¨ï¼Œéœ€è¦åç«¯è®¡ç®—æ”¯æŒã€‚**GitHub Pages ä»…æ”¯æŒé™æ€ç½‘é¡µï¼ˆHTML/CSS/JSï¼‰ï¼Œæ— æ³•è¿è¡Œæœ¬é¡¹ç›®ã€‚**
> 
> æœ€ä½³çš„è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆæ˜¯ä½¿ç”¨å®˜æ–¹çš„ **Streamlit Community Cloud**ï¼ˆå…è´¹ä¸”ç¨³å®šï¼‰ã€‚å®ƒä¸ GitHub æ·±åº¦é›†æˆï¼Œ**æ¯æ¬¡æ‚¨å‘ GitHub æ¨é€ä»£ç æ—¶ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²**ï¼Œå®Œç¾ç¬¦åˆè‡ªåŠ¨åŒ–çš„éœ€æ±‚ã€‚

### éƒ¨ç½²æ­¥éª¤ï¼š

**1. ä¸Šä¼ ä»£ç åˆ° GitHub**
*   åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ã€‚
*   å°†æ‚¨çš„æœ¬åœ°ä»£ç  Push åˆ°è¯¥ä»“åº“ã€‚
*   *æ³¨æ„ï¼šè¯·ç¡®ä¿ `.gitignore` æ–‡ä»¶ç”Ÿæ•ˆï¼Œ**ä¸è¦ä¸Šä¼ ** `.venv` æ–‡ä»¶å¤¹å’Œ `.streamlit/secrets.toml` çœŸå®å¯†é’¥æ–‡ä»¶ã€‚*

**2. åœ¨ Streamlit Cloud åˆ›å»ºåº”ç”¨**
*   è®¿é—® [share.streamlit.io](https://share.streamlit.io/) å¹¶ä½¿ç”¨ GitHub è´¦å·ç™»å½•ã€‚
*   ç‚¹å‡»å³ä¸Šè§’çš„ **"New app"**ã€‚
*   é€‰æ‹©æ‚¨çš„ GitHub ä»“åº“ã€åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ `main`ï¼‰ä»¥åŠä¸»æ–‡ä»¶è·¯å¾„ (`Ads_BI/app.py`)ã€‚
*   ç‚¹å‡» **"Deploy!"**ã€‚

**3. é…ç½®ç¯å¢ƒå˜é‡ (Secrets)**
è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚ç”±äºäº‘ç«¯æ²¡æœ‰æ‚¨çš„ `secrets.toml` æ–‡ä»¶ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚

*   åº”ç”¨éƒ¨ç½²åˆæ¬¡å¯åŠ¨ä¼šæŠ¥é”™ï¼ˆå› ä¸ºç¼ºå¯†é’¥ï¼‰ï¼Œè¯·å¿½ç•¥ã€‚
*   åœ¨ Streamlit Cloud çš„åº”ç”¨ç•Œé¢å³ä¸‹è§’ï¼Œç‚¹å‡» **"Manage app"**ã€‚
*   ç‚¹å‡»åº”ç”¨å¡ç‰‡æ—çš„ä¸‰ä¸ªç‚¹ **(â‹®)** -> **"Settings"** -> **"Secrets"**ã€‚
*   å‚è€ƒé¡¹ç›®ä¸­çš„ `Ads_BI/.streamlit/secrets.toml.example` æ ¼å¼ï¼Œå°†æ‚¨æœ¬åœ°çœŸå®çš„ `secrets.toml` å†…å®¹**å®Œæ•´å¤åˆ¶å¹¶ç²˜è´´**åˆ°äº‘ç«¯çš„ç¼–è¾‘æ¡†ä¸­ã€‚
    ```toml
    [connections.gsheets]
    spreadsheet = "..."
    type = "service_account"
    ...
    ```
*   ç‚¹å‡» **"Save"**ã€‚åº”ç”¨ä¼šè‡ªåŠ¨é‡å¯ï¼Œç°åœ¨åº”è¯¥å°±èƒ½æ­£å¸¸è¿è¡Œäº†ï¼

---
